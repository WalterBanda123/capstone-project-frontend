<div class="w-full flex flex-row justify-center">
  <div class="container flex p-10 flex-col w-3/4">
    <div class="w-full">
      <h2>Distributed Ledger Viewer</h2>
      <p>View all your blockchain transactions and contracts</p>
    </div>
    <div
      class="w-full flex flex-row justify-start text-sm font-semibold gap-5 mt-10"
    >
      <span
        class="cursor-pointer hover:text-green-600"
        [class.active]="selectedTab === 'contracts'"
        (click)="setSelectedTab('contracts')"
        >Smart Contracts</span
      >
      <span
        class="cursor-pointer hover:text-green-600"
        [class.active]="selectedTab === 'transactions'"
        (click)="setSelectedTab('transactions')"
        >Transactions</span
      >
    </div>

    <div class="w-full flex flex-row mt-10">
      <div class="w-2/4">
        <form #searchForm="ngForm" (submit)="handleSearch(searchForm)">
          <div class="mt-2 flex flex-row justify-center">
            <input
              ngModel
              #search="ngModel"
              type="text"
              placeholder="Search for contracts, transactions ..."
              name="search"
              id="search"
              class="block w-full border-0 py-2.5 text-gray-900 shadow-sm ring-1 ring-gray-300 px-2"
            />
            <button class="bg-black px-2 py-1" type="submit">
              <span class="material-symbols-outlined text-white"> search </span>
            </button>
          </div>
        </form>
      </div>
    </div>

    <ng-container *ngIf="selectedTab === 'contracts'">
      <table
        mat-table
        [dataSource]="dataSource"
        class="mat-elevation-z1 w-full border-t-2 border-gray-300 mt-5"
      >
        <!-- Position Column -->
        <ng-container matColumnDef="contract">
          <mat-header-cell *matHeaderCellDef class="text-base"
            >Contract</mat-header-cell
          >
          <mat-cell mat-cell *matCellDef="let element" class="text-sm">
            {{ element.contract_id }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="property">
          <mat-header-cell *matHeaderCellDef class="text-base"
            >Property</mat-header-cell
          >
          <mat-cell mat-cell *matCellDef="let element">{{
            element.property_id
          }}</mat-cell>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="deed">
          <mat-header-cell *matHeaderCellDef class="text-base"
            >Deed</mat-header-cell
          >
          <mat-cell mat-cell *matCellDef="let element">{{
            element.deed_id
          }}</mat-cell>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="owner">
          <mat-header-cell *matHeaderCellDef class="text-base"
            >Owner</mat-header-cell
          >
          <mat-cell *matCellDef="let element">{{ element.owner }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="status">
          <mat-header-cell *matHeaderCellDef class="text-base"
            >Status</mat-header-cell
          >
          <mat-cell mat-cell *matCellDef="let element">
            {{ element.contract_status }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="action">
          <mat-header-cell *matHeaderCellDef class="text-base">
            Edit / Delete
          </mat-header-cell>
          <mat-cell *matCellDef="let element" class="gap-5 items-center">
            <a class="mx-4"
              ><span class="material-symbols-outlined"> edit </span></a
            >
            <a><span class="material-symbols-outlined"> delete </span></a>
          </mat-cell>
        </ng-container>

        <mat-header-row
          mat-header-row
          *matHeaderRowDef="displayedColumns"
        ></mat-header-row>
        <mat-row
         class="hover:bg-green-200 hover:text-white hover:cursor-pointer"
          matRipple
          mat-row
          *matRowDef="let row; columns: displayedColumns"
        ></mat-row>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell text-center font-semibold" colspan="6">
            No data matching the filter "{{ search.value }}"
          </td>
        </tr>
      </table>
    </ng-container>

    <ng-container *ngIf="selectedTab === 'transactions'">
      <table
        mat-table
        [dataSource]="transactionData"
        class="mat-elevation-z1 w-full border-t-2 border-gray-300 mt-5"
      >
        <!-- Position Column -->
        <ng-container matColumnDef="date">
          <mat-header-cell *matHeaderCellDef class="text-base"
            >Date</mat-header-cell
          >
          <mat-cell *matCellDef="let element" class="text-sm">
            {{ element.date }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="transactionType">
          <mat-header-cell *matHeaderCellDef class="text-base">
            Transaction Type
          </mat-header-cell>
          <mat-cell *matCellDef="let element" class="text-sm">
            {{ element.transaction }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="status">
          <mat-header-cell *matHeaderCellDef class="text-base"
            >Status</mat-header-cell
          >
          <mat-cell *matCellDef="let element" class="text-sm">
            {{ element.status }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="party">
          <mat-header-cell *matHeaderCellDef class="text-base"
            >Party</mat-header-cell
          >
          <mat-cell *matCellDef="let element" class="text-sm">
            {{ element.party }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="action">
          <mat-header-cell *matHeaderCellDef class="text-base">
            Edit / Delete
          </mat-header-cell>
          <mat-cell *matCellDef="let element" class="text-sm">
            <a class="mx-4"
              ><span class="material-symbols-outlined"> edit </span></a
            >
            <a><span class="material-symbols-outlined"> delete </span></a>
          </mat-cell>
        </ng-container>

        <mat-header-row
          mat-header-row
          *matHeaderRowDef="transactionColumns"
        ></mat-header-row>
        <mat-row
        class="hover:bg-green-400 hover:text-white"
          matRipple
          mat-row
          *matRowDef="let row; columns: transactionColumns"
        ></mat-row>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell text-center font-semibold" colspan="6">
            No data matching the filter "{{ search.value }}"
          </td>
        </tr>
      </table>
    </ng-container>
  </div>
</div>
